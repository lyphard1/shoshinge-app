<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>正信偈プロトタイプ</title>

  
  <style>
    /* 全体レイアウト --------------------------------------------------- */
    body {
      font-family: "Hiragino Mincho ProN", serif;
      margin: 0;
      padding: 20px;
    }

    #player-wrapper {
      writing-mode: horizontal-tb;
      margin-bottom: 20px;
    }

    #text-wrapper {
      writing-mode: vertical-rl;
      text-orientation: upright;
    }

    /* 句 + バー --------------------------------------------------------- */
    .verse {
      display: inline-block;
      line-height: 1;
      position: relative;
      margin-right: 12px;
    }

    .body {
      display: inline-block;
    }

    .progress-bar {
      position: absolute;
      top: 0;
      right: -6px;
      width: 4px;
      height: 0;
      background: cornflowerblue;
      transition: height .05s linear;
    }
  </style>
</head>

<body>

  <!-- Ⓐ オーディオ --------------------------------------------------- -->
  <div id="player-wrapper">
    <audio id="audio" controls src="audio/shoshinge.mp3"></audio>
  </div>

  <!-- Ⓑ テキスト（正信偈・念仏和讃・回向句） ----------------------- -->
  <div id="text-wrapper">

    <!-- ■■■ 正信念仏偈 ■■■ -->
    <section>
      <h2>正信念仏偈</h2>
      <div class="verse" data-start="7.1" data-end="21.9">帰命無量寿如来</div>
      <div class="verse" data-start="21.9" data-end="30.9">南無不可思議光</div>
      <div class="verse" data-start="30.9" data-end="38.7">法蔵菩薩因位時</div>
      <div class="verse" data-start="38.7" data-end="46.0">在世自在王仏所</div>
      <div class="verse" data-start="46.0" data-end="53.0">覩見諸仏浄土因</div>
      <div class="verse" data-start="53.0" data-end="59.9">国土人天之善悪</div>
      <div class="verse" data-start="59.9" data-end="66.9">建立無上殊勝願</div>
      <div class="verse" data-start="66.9" data-end="73.4">超発希有大弘誓</div>
      <div class="verse" data-start="73.4" data-end="80.1">五劫思惟之摂受</div>
      <div class="verse" data-start="80.1" data-end="86.9">重誓名声聞十方</div>
      <div class="verse" data-start="86.9" data-end="93.7">普放無量無辺光</div>
      <div class="verse" data-start="93.7" data-end="100.4">無碍無対光炎王</div>
      <div class="verse" data-start="100.4" data-end="107.0">清浄歓喜智慧光</div>
      <div class="verse" data-start="107.0" data-end="113.7">不断難思無称光</div>
      <div class="verse" data-start="113.7" data-end="120.2">超日月光照塵刹</div>
      <div class="verse" data-start="120.2" data-end="126.8">一切群生蒙光照</div>
      <div class="verse" data-start="126.8" data-end="133.3">本願名号正定業</div>
      <div class="verse" data-start="133.3" data-end="140.0">至心信楽願為因</div>
      <div class="verse" data-start="140.0" data-end="146.5">成等覚証大涅槃</div>
      <div class="verse" data-start="146.5" data-end="153.0">必至滅度願成就</div>
      <div class="verse" data-start="153.0" data-end="159.3">如来所以興出世</div>
      <div class="verse" data-start="159.3" data-end="165.9">唯説弥陀本願海</div>
      <div class="verse" data-start="165.9" data-end="172.3">五濁悪時群生海</div>
      <div class="verse" data-start="172.3" data-end="178.7">応信如来如実言</div>
      <div class="verse" data-start="178.7" data-end="185.0">能発一念喜愛心</div>
      <div class="verse" data-start="185.0" data-end="191.4">不断煩悩得涅槃</div>
      <div class="verse" data-start="191.4" data-end="197.7">凡聖逆謗斉廻入</div>
      <div class="verse" data-start="197.7" data-end="204.2">如衆水入海一味</div>
      <div class="verse" data-start="204.2" data-end="210.6">摂取心光常照護</div>
      <div class="verse" data-start="210.6" data-end="217.1">已能雖破無明闇</div>
      <div class="verse" data-start="217.1" data-end="223.5">貪愛瞋憎之雲霧</div>
      <div class="verse" data-start="223.5" data-end="229.7">常覆真実信心天</div>
      <div class="verse" data-start="229.7" data-end="236.0">譬如日光覆雲霧</div>
      <div class="verse" data-start="236.0" data-end="242.7">雲霧之下明無闇</div>
      <div class="verse" data-start="242.7" data-end="248.7">獲信見敬大慶喜</div>
      <div class="verse" data-start="248.7" data-end="254.9">即横超截五悪趣</div>
      <div class="verse" data-start="254.9" data-end="261.1">一切善悪凡夫人</div>
      <div class="verse" data-start="261.1" data-end="267.4">聞信如来弘誓願</div>
      <div class="verse" data-start="267.4" data-end="273.7">仏言広大勝解者</div>
      <div class="verse" data-start="273.7" data-end="279.9">是人名分陀利華</div>
      <div class="verse" data-start="279.9" data-end="285.9">弥陀仏本願念仏</div>
      <div class="verse" data-start="285.9" data-end="292.1">邪見驕慢悪衆生</div>
      <div class="verse" data-start="292.1" data-end="298.3">信楽受持甚以難</div>
      <div class="verse" data-start="298.3" data-end="304.4">難中之難無過斯</div>
      <div class="verse" data-start="304.4" data-end="310.6">印度西天之論家</div>
      <div class="verse" data-start="310.6" data-end="319.8">中夏日域之高僧</div>
      <div class="verse" data-start="319.8" data-end="325.8">顕大聖興世正意</div>
      <div class="verse" data-start="325.8" data-end="331.9">明如来本誓応機</div>
      <div class="verse" data-start="331.9" data-end="338.1">釈迦如来楞伽山</div>
      <div class="verse" data-start="338.1" data-end="347.2">為衆告命南天竺</div>
      <div class="verse" data-start="347.2" data-end="353.3">龍樹大士出於世</div>
      <div class="verse" data-start="353.3" data-end="359.3">悉能摧破有無見</div>
      <div class="verse" data-start="359.3" data-end="365.3">宣説大乗無上法</div>
      <div class="verse" data-start="365.3" data-end="371.3">証歓喜地生安楽</div>
      <div class="verse" data-start="371.3" data-end="377.3">顕示難行陸路苦</div>
      <div class="verse" data-start="377.3" data-end="383.4">信楽易行水道楽</div>
      <div class="verse" data-start="383.4" data-end="389.5">憶念弥陀仏本願</div>
      <div class="verse" data-start="389.5" data-end="398.6">自然即時入必定</div>
      <div class="verse" data-start="398.6" data-end="404.7">唯能常称如来号</div>
      <div class="verse" data-start="404.7" data-end="410.7">応報大悲弘誓恩</div>
      <div class="verse" data-start="410.7" data-end="416.7">天親菩薩造論説</div>
      <div class="verse" data-start="416.7" data-end="422.9">帰命無碍光如来</div>
      <div class="verse" data-start="422.9" data-end="429.0">依修多羅顕真実</div>
      <div class="verse" data-start="429.0" data-end="434.9">光闡横超大誓願</div>
      <div class="verse" data-start="434.9" data-end="440.8">広由本願力回向</div>
      <div class="verse" data-start="440.8" data-end="447.1">為度群生彰一心</div>
      <div class="verse" data-start="447.1" data-end="453.1">帰入功徳大宝海</div>
      <div class="verse" data-start="453.1" data-end="459.2">必獲入大会衆数</div>
      <div class="verse" data-start="459.2" data-end="465.2">得至蓮華蔵世界</div>
      <div class="verse" data-start="465.2" data-end="471.2">即証真如法性身</div>
      <div class="verse" data-start="471.2" data-end="477.2">遊煩悩林現神通</div>
      <div class="verse" data-start="477.2" data-end="483.1">入生死園示応化</div>
      <div class="verse" data-start="483.1" data-end="489.1">本師曇鸞梁天子</div>
      <div class="verse" data-start="489.1" data-end="495.3">常向鸞処菩薩礼</div>
      <div class="verse" data-start="495.3" data-end="501.3">三蔵流支授浄教</div>
      <div class="verse" data-start="501.3" data-end="507.2">焚焼仙経帰楽邦</div>
      <div class="verse" data-start="507.2" data-end="513.2">天親菩薩論註解</div>
      <div class="verse" data-start="513.2" data-end="519.2">報土因果顕誓願</div>
      <div class="verse" data-start="519.2" data-end="525.1">往還回向由他力</div>
      <div class="verse" data-start="525.1" data-end="531.1">正定之因唯信心</div>
      <div class="verse" data-start="531.1" data-end="537.1">惑染凡夫信心発</div>
      <div class="verse" data-start="537.1" data-end="543.2">証知生死即涅槃</div>
      <div class="verse" data-start="543.2" data-end="549.3">必至無量光明土</div>
      <div class="verse" data-start="549.3" data-end="555.3">諸有衆生皆普化</div>
      <div class="verse" data-start="555.3" data-end="561.3">道綽決聖道難証</div>
      <div class="verse" data-start="561.3" data-end="567.5">唯明浄土可通入</div>
      <div class="verse" data-start="567.5" data-end="573.6">万善自力貶勤修</div>
      <div class="verse" data-start="573.6" data-end="579.5">円満徳号勧専称</div>
      <div class="verse" data-start="579.5" data-end="585.3">三不三信誨慇懃</div>
      <div class="verse" data-start="585.3" data-end="591.5">像末法滅同悲引</div>
      <div class="verse" data-start="591.5" data-end="597.8">一生造悪値弘誓</div>
      <div class="verse" data-start="597.8" data-end="612.5">至安養界証妙果</div>
      <div class="verse" data-start="612.5" data-end="628.3">善導独明仏正意</div>
      <div class="verse" data-start="628.3" data-end="637.4">矜哀定散与逆悪</div>
      <div class="verse" data-start="637.4" data-end="645.5">光明名号顕因縁</div>
      <div class="verse" data-start="645.5" data-end="652.7">開入本願大智海</div>
      <div class="verse" data-start="652.7" data-end="659.6">行者正受金剛心</div>
      <div class="verse" data-start="659.6" data-end="666.4">慶喜一念相応後</div>
      <div class="verse" data-start="666.4" data-end="673.1">与韋提等獲三忍</div>
      <div class="verse" data-start="673.1" data-end="679.9">即証法性之常楽</div>
      <div class="verse" data-start="679.9" data-end="686.5">源信広開一代教</div>
      <div class="verse" data-start="686.5" data-end="693.2">偏帰安養勧一切</div>
      <div class="verse" data-start="693.2" data-end="699.8">専雑執心判浅深</div>
      <div class="verse" data-start="699.8" data-end="706.4">報化二土正弁立</div>
      <div class="verse" data-start="706.4" data-end="712.9">極重悪人唯称仏</div>
      <div class="verse" data-start="712.9" data-end="719.4">我亦在彼摂取中</div>
      <div class="verse" data-start="719.4" data-end="725.8">煩悩障眼雖不見</div>
      <div class="verse" data-start="725.8" data-end="732.2">大悲無倦常照我</div>
      <div class="verse" data-start="732.2" data-end="738.7">本師源空明仏教</div>
      <div class="verse" data-start="738.7" data-end="745.1">憐愍善悪凡夫人</div>
      <div class="verse" data-start="745.1" data-end="751.7">真宗教証興片州</div>
      <div class="verse" data-start="751.7" data-end="757.9">選択本願弘悪世</div>
      <div class="verse" data-start="757.9" data-end="764.3">還来生死輪転家</div>
      <div class="verse" data-start="764.3" data-end="770.9">決以疑情為所止</div>
      <div class="verse" data-start="770.9" data-end="777.3">速入寂静無為楽</div>
      <div class="verse" data-start="777.3" data-end="784.8">必以信心為能入</div>
      <div class="verse" data-start="784.8" data-end="796.5">弘経大士宗師等</div>
      <div class="verse" data-start="797.3" data-end="809.2">拯済無辺極濁悪</div>
      <div class="verse" data-start="809.2" data-end="821.1">道俗時衆共同心</div>
      <div class="verse" data-start="821.1" data-end="827.0">唯可信斯高僧説</div>
    </section>

    <!-- ■■■ 念仏和讃（タイムスタンプなし / バーは常時 0%） ■■■ -->
    <section>
      <h2>念仏和讃</h2>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南</div>

      <h3>（一首目）</h3>
      <div class="verse">彌陀成佛のこのかたは</div>
      <div class="verse">いまに十劫をへたまへり</div>
      <div class="verse">法身の光輪きはもなく</div>
      <div class="verse">世の盲冥をてらすなり</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南</div>

      <h3>（二首目）</h3>
      <div class="verse">智慧の光明はかりなし</div>
      <div class="verse">有量の諸相ことごとく</div>
      <div class="verse">光暁かぶらぬものはなし</div>
      <div class="verse">眞實明に帰命せよ</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無</div>
      <div class="verse">阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南</div>

      <h3>（三首目）</h3>
      <div class="verse">解脱の光輪きはもなし</div>
      <div class="verse">光触かぶるものはみな</div>
      <div class="verse">有無をはなるとのべたまふ</div>
      <div class="verse">平等覚に帰命せよ</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南</div>

      <h3>（四首目）</h3>
      <div class="verse">光雲無碍如虚空</div>
      <div class="verse">一切の有碍にさはりなし</div>
      <div class="verse">光沢かふらぬものぞなき</div>
      <div class="verse">難思議を帰命せよ</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南</div>

      <h3>（五首目）</h3>
      <div class="verse">清浄光明ならびなし</div>
      <div class="verse">遇斯光のゆへなれば</div>
      <div class="verse">一切の業繋ものぞこりぬ</div>
      <div class="verse">畢竟依を帰命せよ</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南無阿弥陀仏</div>
      <div class="verse">南</div>

      <h3>（六首目）</h3>
      <div class="verse">佛光照曜最第一</div>
      <div class="verse">光炎王仏となづけたり</div>
      <div class="verse">三塗の黒闇ひらくなり</div>
      <div class="verse">大応供を帰命せよ</div>
    </section>

    <!-- ■■■ 回向句 ■■■ -->
    <section>
      <h2>回向句</h2>
      <div class="verse">願以此功徳</div>
      <div class="verse">平等施一切</div>
      <div class="verse">同発菩提心</div>
      <div class="verse">往生安楽国</div>
    </section>

  </div><!-- /#text-wrapper -->

  <!-- Ⓒ バー生成 & 音声同期 ---------------------------------------- -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {

      /* <span class="body">＋バーを追加（初回だけ） */
      document.querySelectorAll('.verse').forEach(v => {
        if (!v.querySelector('.body')) {
          v.innerHTML = `<span class="body">${v.textContent.trim()}</span><div class="progress-bar"></div>`;
        }
      });

      const audio = document.getElementById('audio');
      const verses = [...document.querySelectorAll('.verse')];

      /* 再生位置に合わせて高さ(px)を更新 */
      audio.addEventListener('timeupdate', () => {
        const now = audio.currentTime;
        verses.forEach(v => {
          const bar = v.querySelector('.progress-bar');
          const body = v.querySelector('.body');
          const s = parseFloat(v.dataset.start);
          const e = parseFloat(v.dataset.end);
          if (isNaN(s) || isNaN(e)) return;          // タイムスタンプ無い句はスキップ

          const r = now < s ? 0 : now > e ? 1 : (now - s) / (e - s);
          bar.style.height = (body.offsetHeight * r) + 'px';
        });
      });

    });
  </script>

</body>

</html>